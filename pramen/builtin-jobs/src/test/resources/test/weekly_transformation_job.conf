# Specify how the output information date should be calculated.
pramen.output.info.date.expr = "@infoDate - 1"

pramen.transformation {
  factory.class = za.co.absa.pramen.mocks.DummyTransformationJob
  job.name = "Job Name"

  schedule.type = "weekly"
  schedule.days.of.week = [ 7 ]

  default.information.date.column = "INFORMATION_DATE"
  default.information.date.format = "yyyy-MM-dd"

  input.tables {
    table.1 {
      # Table name stored in bookkeeping
      name = employees
      path = "/path/to/the/table2"

      # If true, the job can proceed even this table is not up to date.
      # If all tables are optional, at least one table must be up to date for a job to proceed.
      optional = false

      # Specify the input period for the table
      # @activeDate is the date the job running.
      input.date.begin = "minusMonths(@infoDate, 1)"
      input.date.end = "lastDayOfMonth(@infoDate)"

      # Use these options if they are different from the default ones
      # information.date.column = "INFORMATION_DATE"
      # information.date.format = "yyyy-MM-dd"
    }

    table.2 {
      name = check_weekly
      path = "/path/to/the/table2"
      has.info.date = false
      optional = true
    }
  }

  output.table {
    name = "output.table.name"

    path = "/path/to/output/table"

    records.per.partition = 1000000

    # Use these options if they are different from the default ones
    #information.column.name = "INFORMATION_DATE"
    #information.column.format = "yyyy-MM-dd"
  }

}
